<!DOCTYPE html>
<html lang="ja">
<head>
  <title>Braveãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œç¢ºèª - æ°´é“ãƒ¡ãƒ¼ã‚¿ãƒ¼èª­ã¿å–ã‚Šã‚¢ãƒ—ãƒª</title>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body {
      font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', sans-serif;
      margin: 0;
      padding: 20px;
      background-color: #f5f5f5;
    }
    .container {
      max-width: 800px;
      margin: 0 auto;
      background: white;
      border-radius: 8px;
      padding: 20px;
      box-shadow: 0 2px 10px rgba(0,0,0,0.1);
    }
    .alert {
      padding: 15px;
      margin: 15px 0;
      border-radius: 6px;
      border-left: 4px solid;
    }
    .alert.error {
      background: #fff5f5;
      border-color: #e53e3e;
      color: #e53e3e;
    }
    .alert.success {
      background: #f0fff4;
      border-color: #38a169;
      color: #38a169;
    }
    .alert.warning {
      background: #fffbeb;
      border-color: #d69e2e;
      color: #d69e2e;
    }
    .test-section {
      margin: 20px 0;
      padding: 15px;
      border: 1px solid #ddd;
      border-radius: 6px;
    }
    .test-link {
      display: inline-block;
      padding: 10px 20px;
      background: #007bff;
      color: white;
      text-decoration: none;
      border-radius: 4px;
      margin: 5px;
    }
    .test-link:hover {
      background: #0056b3;
    }
    .code {
      background: #f7fafc;
      padding: 10px;
      border-radius: 4px;
      font-family: 'Courier New', monospace;
      font-size: 12px;
      overflow-x: auto;
      margin: 10px 0;
    }
    .fix-steps {
      list-style-type: none;
      padding: 0;
    }
    .fix-steps li {
      padding: 10px;
      margin: 5px 0;
      background: #f8f9fa;
      border-left: 4px solid #007bff;
      border-radius: 4px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h1>ğŸŒŠ Braveãƒ–ãƒ©ã‚¦ã‚¶å¯¾å¿œç¢ºèª</h1>
    
    <div class="alert error">
      <strong>ğŸš¨ æ¤œå‡ºã•ã‚ŒãŸå•é¡Œ</strong><br>
      Braveãƒ–ãƒ©ã‚¦ã‚¶ã§ä»¥ä¸‹ã®ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¦ã„ã¾ã™ï¼š
      <div class="code">
        [ReactApp] woff.init with woffId: Mtmj4rddmxBddYCPD0G81A<br>
        [ReactApp] Unexpected room data format: {success: true, data: Array(12), ...}<br>
        Error: éƒ¨å±‹ãƒ‡ãƒ¼ã‚¿ã®å½¢å¼ãŒäºˆæœŸã•ã‚ŒãŸã‚‚ã®ã¨ç•°ãªã‚Šã¾ã™ã€‚
      </div>
    </div>
    
    <div class="test-section">
      <h3>ğŸ” å•é¡Œã®åŸå› </h3>
      <p>ã‚¨ãƒ©ãƒ¼ãƒ­ã‚°ã‹ã‚‰ä»¥ä¸‹ã®å•é¡ŒãŒç¢ºèªã•ã‚Œã¦ã„ã¾ã™ï¼š</p>
      <ul>
        <li><strong>WOFFã‚³ãƒ¼ãƒ‰ãŒå®Ÿè¡Œã•ã‚Œã¦ã„ã‚‹</strong> - å‰Šé™¤ã•ã‚ŒãŸã¯ãšã®WOFF SDKãŒå‘¼ã³å‡ºã•ã‚Œã¦ã„ã‚‹</li>
        <li><strong>éƒ¨å±‹ãƒ‡ãƒ¼ã‚¿å‡¦ç†ã‚¨ãƒ©ãƒ¼</strong> - ãƒ¬ã‚¹ãƒãƒ³ã‚¹å½¢å¼ã®å‡¦ç†ã§ä¾‹å¤–ãŒç™ºç”Ÿ</li>
        <li><strong>ãƒ–ãƒ©ã‚¦ã‚¶ã‚­ãƒ£ãƒƒã‚·ãƒ¥å•é¡Œ</strong> - å¤ã„JavaScriptãƒ•ã‚¡ã‚¤ãƒ«ãŒã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚Œã¦ã„ã‚‹å¯èƒ½æ€§</li>
      </ul>
    </div>
    
    <div class="test-section">
      <h3>ğŸ› ï¸ ä¿®æ­£æ‰‹é †</h3>
      <ol class="fix-steps">
        <li><strong>Step 1: ãƒ–ãƒ©ã‚¦ã‚¶ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢</strong><br>
          Brave â†’ è¨­å®š â†’ ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ã¨ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ â†’ é–²è¦§å±¥æ­´ãƒ‡ãƒ¼ã‚¿ã®å‰Šé™¤ â†’ ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã•ã‚ŒãŸç”»åƒã¨ãƒ•ã‚¡ã‚¤ãƒ«
        </li>
        <li><strong>Step 2: ãƒãƒ¼ãƒ‰ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥</strong><br>
          Cmd+Shift+R (Mac) ã¾ãŸã¯ Ctrl+Shift+R (Windows) ã§ãƒãƒ¼ãƒ‰ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥
        </li>
        <li><strong>Step 3: ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆãƒ¢ãƒ¼ãƒ‰ãƒ†ã‚¹ãƒˆ</strong><br>
          Cmd+Shift+N ã§ã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆã‚¦ã‚£ãƒ³ãƒ‰ã‚¦ã‚’é–‹ã„ã¦ãƒ†ã‚¹ãƒˆ
        </li>
        <li><strong>Step 4: é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ç¢ºèª</strong><br>
          F12 â†’ Network ã‚¿ãƒ– â†’ Disable cache ã«ãƒã‚§ãƒƒã‚¯
        </li>
      </ol>
    </div>
    
    <div class="test-section">
      <h3>ğŸ§ª ã‚­ãƒ£ãƒƒã‚·ãƒ¥ãƒã‚¹ãƒ†ã‚£ãƒ³ã‚°ç‰ˆãƒ†ã‚¹ãƒˆ</h3>
      <p>ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’å›é¿ã™ã‚‹ãŸã‚ã€ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ä»˜ãã®ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã§ãƒ†ã‚¹ãƒˆã—ã¦ãã ã•ã„ï¼š</p>
      <a href="property_select.html?v=20250614&cache=false" class="test-link" target="_blank">ç‰©ä»¶é¸æŠãƒšãƒ¼ã‚¸ (ã‚­ãƒ£ãƒƒã‚·ãƒ¥å›é¿)</a>
      <a href="room_select.html?v=20250614&cache=false" class="test-link" target="_blank">éƒ¨å±‹é¸æŠãƒšãƒ¼ã‚¸ (ã‚­ãƒ£ãƒƒã‚·ãƒ¥å›é¿)</a>
      <a href="meter_reading.html?v=20250614&cache=false" class="test-link" target="_blank">æ¤œé‡å…¥åŠ›ãƒšãƒ¼ã‚¸ (ã‚­ãƒ£ãƒƒã‚·ãƒ¥å›é¿)</a>
    </div>
    
    <div class="test-section">
      <h3>ğŸ”§ é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã§ã®ç¢ºèªæ–¹æ³•</h3>
      <ol>
        <li>F12ã§é–‹ç™ºè€…ãƒ„ãƒ¼ãƒ«ã‚’é–‹ã</li>
        <li>Consoleã‚¿ãƒ–ã§ä»¥ä¸‹ã‚’å®Ÿè¡Œã—ã¦ç¢ºèªï¼š</li>
      </ol>
      <div class="code">
// WOFFãŒèª­ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
console.log('WOFF check:', typeof woff !== 'undefined' ? 'âŒ WOFFæ®‹å­˜' : 'âœ… WOFFå‰Šé™¤æ¸ˆã¿');

// ReactãŒæ­£å¸¸ã«èª­ã¿è¾¼ã¾ã‚Œã¦ã„ã‚‹ã‹ãƒã‚§ãƒƒã‚¯
console.log('React check:', typeof React !== 'undefined' ? 'âœ… Reactæ­£å¸¸' : 'âŒ Reactæœªèª­è¾¼');

// ã‚­ãƒ£ãƒƒã‚·ãƒ¥çŠ¶æ³ç¢ºèª
console.log('Cache check:', performance.navigation.type === 1 ? 'âœ… ãƒãƒ¼ãƒ‰ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥' : 'âš ï¸ é€šå¸¸èª­è¾¼');

// ã‚µãƒ¼ãƒ“ã‚¹ãƒ¯ãƒ¼ã‚«ãƒ¼çŠ¶æ³
navigator.serviceWorker.getRegistrations().then(registrations => {
  console.log('SW check:', registrations.length > 0 ? 'âš ï¸ SWæœ‰åŠ¹' : 'âœ… SWç„¡åŠ¹');
});
      </div>
    </div>
    
    <div class="test-section">
      <h3>ğŸ“± ãƒ–ãƒ©ã‚¦ã‚¶åˆ¥å‹•ä½œç¢ºèª</h3>
      <div class="alert warning">
        <strong>æ¨å¥¨ãƒ†ã‚¹ãƒˆç’°å¢ƒï¼š</strong><br>
        å„ãƒ–ãƒ©ã‚¦ã‚¶ã§ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚¯ãƒªã‚¢å¾Œã«ãƒ†ã‚¹ãƒˆã—ã¦ãã ã•ã„ã€‚
      </div>
      <ul>
        <li><strong>âœ… Chrome</strong> - åŸºæº–ãƒ–ãƒ©ã‚¦ã‚¶</li>
        <li><strong>ğŸ§ª Brave</strong> - å•é¡Œç™ºç”Ÿä¸­</li>
        <li><strong>âœ… Safari</strong> - ãƒ†ã‚¹ãƒˆæ¨å¥¨</li>
        <li><strong>âœ… Firefox</strong> - ãƒ†ã‚¹ãƒˆæ¨å¥¨</li>
      </ul>
    </div>
    
    <div class="alert success">
      <strong>âœ… æœŸå¾…ã•ã‚Œã‚‹å‹•ä½œ</strong><br>
      ä¿®æ­£å¾Œã¯ä»¥ä¸‹ã®ãƒ­ã‚°ãŒè¡¨ç¤ºã•ã‚Œã‚‹ã¯ãšã§ã™ï¼š
      <div class="code">
[PWA] Property Select page loaded with PWA support<br>
[ReactApp] Fetching properties from: [GAS_URL]<br>
[ReactApp] Response status: 200<br>
[ReactApp] GAS Response (properties): Array(38)<br>
--- WOFFã«é–¢ã™ã‚‹ãƒ­ã‚°ã¯ä¸€åˆ‡å‡ºåŠ›ã•ã‚Œãªã„ ---
      </div>
    </div>
    
    <footer style="margin-top: 40px; text-align: center; color: #666; font-size: 0.9em;">
      <p>ğŸ”§ Brave Browser Debug Tool - æ°´é“ãƒ¡ãƒ¼ã‚¿ãƒ¼èª­ã¿å–ã‚Šã‚¢ãƒ—ãƒª</p>
      <p>æœ€çµ‚æ›´æ–°: 2025å¹´6æœˆ14æ—¥</p>
    </footer>
  </div>
  
  <script>
    // è‡ªå‹•è¨ºæ–­ã‚¹ã‚¯ãƒªãƒ—ãƒˆ
    document.addEventListener('DOMContentLoaded', function() {
      console.log('ğŸŒŠ Brave Browser Debug Tool loaded');
      console.log('User Agent:', navigator.userAgent);
      console.log('Is Brave:', navigator.userAgent.includes('Brave') || 
                              navigator.brave !== undefined);
      
      // è‡ªå‹•ãƒã‚§ãƒƒã‚¯å®Ÿè¡Œ
      setTimeout(() => {
        console.log('=== è‡ªå‹•è¨ºæ–­é–‹å§‹ ===');
        
        // WOFFå­˜åœ¨ãƒã‚§ãƒƒã‚¯
        const woffExists = typeof woff !== 'undefined';
        console.log('WOFF SDK:', woffExists ? 'âŒ æ®‹å­˜ã—ã¦ã„ã‚‹' : 'âœ… æ­£å¸¸ã«å‰Šé™¤æ¸ˆã¿');
        
        // Reactå­˜åœ¨ãƒã‚§ãƒƒã‚¯
        const reactExists = typeof React !== 'undefined';
        console.log('React:', reactExists ? 'âœ… æ­£å¸¸ã«èª­ã¿è¾¼ã¿æ¸ˆã¿' : 'âŒ èª­ã¿è¾¼ã¿å¤±æ•—');
        
        // ã‚­ãƒ£ãƒƒã‚·ãƒ¥çŠ¶æ³
        console.log('èª­ã¿è¾¼ã¿ã‚¿ã‚¤ãƒ—:', performance.navigation.type === 1 ? 
                   'âœ… ãƒãƒ¼ãƒ‰ãƒªãƒ•ãƒ¬ãƒƒã‚·ãƒ¥' : 'âš ï¸ é€šå¸¸èª­ã¿è¾¼ã¿ï¼ˆã‚­ãƒ£ãƒƒã‚·ãƒ¥ä½¿ç”¨ï¼‰');
        
        // ãƒšãƒ¼ã‚¸èª­ã¿è¾¼ã¿å®Œäº†ã¾ã§å¾…æ©Ÿã—ã¦Service Workerç¢ºèª
        if ('serviceWorker' in navigator) {
          navigator.serviceWorker.getRegistrations().then(registrations => {
            console.log('Service Worker:', registrations.length > 0 ? 
                       `âš ï¸ ${registrations.length}å€‹ã®SWãŒç™»éŒ²æ¸ˆã¿` : 'âœ… SWæœªç™»éŒ²');
          });
        }
        
        console.log('=== è‡ªå‹•è¨ºæ–­å®Œäº† ===');
      }, 1000);
    });
  </script>
</body>
</html>
